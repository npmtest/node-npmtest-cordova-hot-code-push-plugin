{"/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/test.js":"/* istanbul instrument in package npmtest_cordova_hot_code_push_plugin */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - post-init\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - post-init\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/lib.npmtest_cordova_hot_code_push_plugin.js":"/* istanbul instrument in package npmtest_cordova_hot_code_push_plugin */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_cordova_hot_code_push_plugin = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_cordova_hot_code_push_plugin = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-cordova-hot-code-push-plugin && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_cordova_hot_code_push_plugin */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_cordova_hot_code_push_plugin\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // post-init\n    // run browser js-env code - post-init\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_cordova_hot_code_push_plugin.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_cordova_hot_code_push_plugin.rollup.js'] =\n            local.assetsDict['/assets.npmtest_cordova_hot_code_push_plugin.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_cordova_hot_code_push_plugin.__dirname + '/lib.npmtest_cordova_hot_code_push_plugin.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/node_modules/cordova-hot-code-push-plugin/scripts/afterPrepareHook.js":"/**\nThis hook is executed every time we build the project.\nIt will populate config.xml with plugin specific options.\nIf you want to specify for which server to build the project - you can create chcpbuild.options and put your servers like so:\n  {\n    \"build_name_1\": {\n      \"config-file\": \"https://some/path/to/chcp.json\"\n    },\n    \"build_name_2\": {\n      \"config-file\": \"https://some/other/path/to/chcp.json\",\n      \"local-development\": {\n        \"enabled\": true\n      }\n    },\n    ...\n  }\nFile contains list of build options in JSON format.\nAfter it is set you can run build command like that:\n  cordova build -- build_name_1\n\nIf no option is provided - hook will use .chcpenv file to build for local development.\nMore information can be found on https://github.com/nordnet/cordova-hot-code-push.\n*/\n\nvar chcpBuildOptions = require('./lib/chcpBuildOptions.js');\nvar chcpConfigXmlReader = require('./lib/chcpConfigXmlReader.js');\nvar chcpConfigXmlWriter = require('./lib/chcpConfigXmlWriter.js');\nvar iosWKWebViewEngineSupport = require('./lib/iosWKWebViewEngineSupport.js');\nvar BUILD_OPTION_PREFIX = 'chcp-';\nvar RELEASE_BUILD_FLAG = '--release';\n\nfunction logStart() {\n  console.log('CHCP plugin after prepare hook:');\n}\n\nfunction printLog(msg) {\n  var formattedMsg = '    ' + msg;\n  console.log(formattedMsg);\n}\n\n/**\n * Read arguments from console.\n * We are reading only plugin-related preferences.\n *\n * @param {Object} ctx - cordova context object\n * @return {Object} parsed arguments; if none were provided - default options are returned\n */\nfunction processConsoleOptions(ctx) {\n  var consoleOptions = ctx.opts.options;\n\n  // If we are using Cordova 5.3.3 or lower - arguments are array of strings.\n  // Will be removed after some time.\n  if (consoleOptions instanceof Array) {\n    return processConsoleOptions_cordova_53(consoleOptions);\n  }\n\n  // for newer version of Cordova - they are an object of properties\n  return processConsoleOptions_cordova_54(consoleOptions);\n}\n\nfunction processConsoleOptions_cordova_53(consoleOptions) {\n  var parsedOptions = {\n    isRelease: false,\n    buildOption: ''\n  };\n\n  // Search for release flag, or plugin-specific build options.\n  for (var idx in consoleOptions) {\n    var opt = consoleOptions[idx];\n    if (opt === RELEASE_BUILD_FLAG) {\n      parsedOptions.isRelease = true;\n      break;\n    } else if (opt.indexOf(BUILD_OPTION_PREFIX) == 0) {\n      parsedOptions.buildOption = opt.replace(BUILD_OPTION_PREFIX, '');\n      break;\n    }\n  }\n\n  return parsedOptions;\n}\n\nfunction isString(s) {\n  return typeof(s) === 'string' || s instanceof String;\n}\n\nfunction processConsoleOptions_cordova_54(consoleOptions) {\n  // For now it's like this for backwards capability.\n  // Will be simplified later, when Cordova 5.4.x will be used more wide.\n  var parsedOptions = {\n    isRelease: false,\n    buildOption: ''\n  };\n\n  // if building for release - save that and exit\n  if (consoleOptions.hasOwnProperty('release')) {\n    parsedOptions.isRelease = consoleOptions.release;\n    return parsedOptions;\n  }\n\n  // search for plugin specific build options\n  var args = consoleOptions.argv;\n  for (var idx in args) {\n    var opt = args[idx];\n    if (!isString(opt)) {\n      continue;\n    }\n\n    if (opt.indexOf(BUILD_OPTION_PREFIX) === -1) {\n      continue;\n    }\n\n    parsedOptions.buildOption = opt.replace(BUILD_OPTION_PREFIX, '');\n\n    break;\n  }\n\n  return parsedOptions;\n}\n\n/**\n * Try to inject build options according to the arguments from the console.\n *\n * @param {Object} ctx - cordova context object\n * @param {String} optionName - build option name from console; will be mapped to configuration from chcpbuild.options file\n * @return {boolean} true - if build option is found and we successfully injected it into config.xml; otherwise - false\n */\nfunction prepareWithCustomBuildOption(ctx, optionName, chcpXmlOptions) {\n  if (optionName.length == 0) {\n    return false;\n  }\n\n  var buildConfig = chcpBuildOptions.getBuildConfigurationByName(ctx, optionName);\n  if (buildConfig == null) {\n    console.warn('Build configuration for \"' + optionName + '\" not found in chcp.options. Ignoring it.');\n    return false;\n  }\n\n  console.log('Using config from chcp.options:');\n  console.log(JSON.stringify(buildConfig, null, 2));\n\n  mergeBuildOptions(chcpXmlOptions, buildConfig);\n\n  console.log('Resulting config will contain the following preferences:');\n  console.log(JSON.stringify(chcpXmlOptions, null, 2));\n\n  chcpConfigXmlWriter.writeOptions(ctx, chcpXmlOptions);\n\n  return true;\n}\n\n/**\n * Merge build options into current config.xml preferences.\n *\n * @param {Object} currentXmlOptions - current plugin preferences from config.xml\n * @param {Object} buildConfig - build config preferences\n */\nfunction mergeBuildOptions(currentXmlOptions, buildConfig) {\n  for (var key in buildConfig) {\n    currentXmlOptions[key] = buildConfig[key];\n  }\n}\n\nmodule.exports = function(ctx) {\n  var buildConfig,\n    chcpXmlOptions;\n\n  logStart();\n\n  // apply iOS-specific stuff\n  if (ctx.opts.platforms.indexOf('ios') !== -1) {\n    iosWKWebViewEngineSupport.setWKWebViewEngineMacro(ctx);\n  }\n\n  // if we are running build with --release option - do nothing\n  var consoleOptions = processConsoleOptions(ctx);\n  if (consoleOptions.isRelease) {\n    printLog('Building for release, not changing config.xml');\n    return;\n  }\n\n  // read plugin preferences from config.xml\n  chcpXmlOptions = chcpConfigXmlReader.readOptions(ctx);\n\n  // if any build option is provided in console - try to map it with chcpbuild.options\n  if (prepareWithCustomBuildOption(ctx, consoleOptions.buildOption, chcpXmlOptions)) {\n    return;\n  }\n\n  // if none of the above\n  if (!chcpXmlOptions['config-file']) {\n    printLog('config-file preference is not set.');\n  } else {\n    printLog('config-file set to ' + chcpXmlOptions['config-file']['url']);\n  }\n};\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/node_modules/cordova-hot-code-push-plugin/scripts/lib/chcpBuildOptions.js":"/**\nModule helps to generate building options for plugin.\nThose options then injected into platform-specific config.xml.\n*/\n\nvar fs = require('fs');\nvar path = require('path');\nvar OPTIONS_FILE_NAME = 'chcpbuild.options';\n\nmodule.exports = {\n  getBuildConfigurationByName: getBuildConfigurationByName\n};\n\n// region Public API\n\n/**\n * Generate build options depending on the options, provided in console.\n *\n * @param {String} buildName - build identifier\n * @return {Object} build options; null - if none are found\n */\nfunction getBuildConfigurationByName(ctx, buildName) {\n  // load options from the chcpbuild.options file\n  var chcpBuildOptions = getBuildOptionsFromConfig(ctx);\n  if (chcpBuildOptions == null) {\n    return null;\n  }\n\n  var resultConfig = chcpBuildOptions[buildName];\n  if (!resultConfig) {\n    return null;\n  }\n\n  // backwards capability\n  // TODO: remove this in the next versions\n  if (resultConfig['config-file'] && !resultConfig['config-file']['url']) {\n    var url = resultConfig['config-file'];\n    resultConfig['config-file'] = {\n      'url': url\n    };\n  }\n\n  return resultConfig;\n}\n\n// endregion\n\n// region Private API\n\n/**\n * Read options, listed in chcpbuild.options file.\n *\n * @return {Object} options from chcpbuild.options file\n */\nfunction getBuildOptionsFromConfig(ctx) {\n  var chcpBuildOptionsFilePath = path.join(ctx.opts.projectRoot, OPTIONS_FILE_NAME);\n\n  return readObjectFromFile(chcpBuildOptionsFilePath);\n};\n\nfunction readObjectFromFile(filePath) {\n  var objData = null;\n  try {\n    var data = fs.readFileSync(filePath, 'utf-8');\n    objData = JSON.parse(data, 'utf-8');\n  } catch (err) {}\n\n  return objData;\n}\n\n// endregion\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/node_modules/cordova-hot-code-push-plugin/scripts/lib/chcpConfigXmlReader.js":"/*\nHelper class to read plugin-specific options from the config.xml.\n*/\n\nvar fs = require('fs');\nvar path = require('path');\nvar xmlHelper = require('./xmlHelper.js');\nvar cordovaContext;\nvar projectRoot;\n\nmodule.exports = {\n  readOptions: readOptions\n};\n\n// region Public API\n\n/**\n * Read plugin options from config.xml.\n * If none is specified - default options are returned.\n *\n * @param {Object} ctx - cordova context object\n * @return {Object} plugin prefereces\n */\nfunction readOptions(ctx) {\n  var configFilePath = path.join(ctx.opts.projectRoot, 'config.xml');\n  var configXmlContent = xmlHelper.readXmlAsJson(configFilePath, true);\n\n  return parseConfig(configXmlContent);\n}\n\n// endregion\n\n// region Private API\n\n/**\n * Retrieve plugin preferences from the config.xml content.\n *\n * @param {Object} configXmlContent - config.xml content as JSON object\n * @return {Object} plugin preferences\n */\nfunction parseConfig(configXmlContent) {\n  if (!configXmlContent.chcp) {\n    return {};\n  }\n\n  return configXmlContent.chcp;\n}\n\n// endregion\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/node_modules/cordova-hot-code-push-plugin/scripts/lib/xmlHelper.js":"/*\nSmall helper class to read/write from/to xml file.\n*/\n\n\nvar fs = require('fs');\nvar xml2jsProcessors = require('xml2js/lib/processors');\nvar xml2js = require('xml2js');\n\nmodule.exports = {\n  readXmlAsJson: readXmlAsJson,\n  writeJsonAsXml: writeJsonAsXml\n};\n\n/**\n * Read data from the xml file as JSON object.\n *\n * @param {String} filePath - absolute path to xml file\n * @param {Boolean} simplify - if set to true - cleanup resulting json\n * @return {Object} JSON object with the contents of the xml file\n */\nfunction readXmlAsJson(filePath, simplify) {\n  var xmlData;\n  var parsedData;\n  var parserOptions = {};\n\n  if (simplify) {\n    parserOptions = {\n      attrValueProcessors: [xml2jsProcessors.parseNumbers, xml2jsProcessors.parseBooleans],\n      explicitArray: false,\n      mergeAttrs: true,\n      explicitRoot: false\n    };\n  }\n\n  var xmlParser = new xml2js.Parser(parserOptions);\n  try {\n    xmlData = fs.readFileSync(filePath);\n    xmlParser.parseString(xmlData, function(err, data) {\n      if (data) {\n        parsedData = data;\n      }\n    });\n  } catch (err) {}\n\n  return parsedData;\n}\n\n/**\n * Write JSON object as xml into the specified file.\n *\n * @param {Object} jsData - JSON object to write\n * @param {String} filePath - path to the xml file where data should be saved\n * @param {Object} options - xml options\n * @return {boolean} true - if data saved to file; false - otherwise\n */\nfunction writeJsonAsXml(jsData, filePath, options) {\n  var xmlBuilder = new xml2js.Builder(options);\n  var changedXmlData = xmlBuilder.buildObject(jsData);\n  var isSaved = true;\n\n  try {\n    fs.writeFileSync(filePath, changedXmlData);\n  } catch (err) {\n    console.log(err);\n    isSaved = false;\n  }\n\n  return isSaved;\n}\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/node_modules/cordova-hot-code-push-plugin/scripts/lib/chcpConfigXmlWriter.js":"/**\nHelper module to work with config.xml file.\nWe will use it to inject plugin-specific options.\n*/\n\n\nvar path = require('path');\nvar xmlHelper = require('./xmlHelper.js');\nvar cordovaContext;\nvar projectRoot;\nvar platforms;\n\nmodule.exports = {\n  writeOptions: writeOptions\n};\n\n// region Public API\n\n/**\n * Inject options into config.xml files of each platform.\n *\n * @param {Object} context - cordova context instance\n * @param {Object} options - plugin options to inject\n */\nfunction writeOptions(context, options) {\n  setup(context);\n  injectOptions(options);\n}\n\n// endregion\n\n// region Private API\n/**\n * Initialize module.\n *\n * @param {Object} cordovaContext - cordova context instance\n */\nfunction setup(context) {\n  cordovaContext = context;\n  platforms = context.opts.platforms;\n  projectRoot = context.opts.projectRoot;\n}\n\n/**\n * Get name of the current project.\n *\n * @param {Object} ctx - cordova context instance\n * @param {String} projectRoot - current root of the project\n *\n * @return {String} name of the project\n */\nfunction getProjectName(ctx, projectRoot) {\n  var cordova_util = ctx.requireCordovaModule('cordova-lib/src/cordova/util');\n  var xml = cordova_util.projectConfig(projectRoot);\n  var ConfigParser;\n\n  // If we are running Cordova 5.4 or abova - use parser from cordova-common.\n  // Otherwise - from cordova-lib.\n  try {\n    ConfigParser = ctx.requireCordovaModule('cordova-common/src/ConfigParser/ConfigParser');\n  } catch (e) {\n    ConfigParser = ctx.requireCordovaModule('cordova-lib/src/configparser/ConfigParser')\n  }\n\n  return new ConfigParser(xml).name();\n}\n\n/**\n * Get path to config.xml inside iOS project.\n *\n * @return {String} absolute path to config.xml file\n */\nfunction pathToIosConfigXml() {\n  var projectName = getProjectName(cordovaContext, projectRoot);\n\n  return path.join(projectRoot, 'platforms', 'ios', projectName, 'config.xml');\n}\n\n/**\n * Get path to config.xml inside Android project.\n *\n * @return {String} absolute path to config.xml file\n */\nfunction pathToAndroidConfigXml() {\n  return path.join(projectRoot, 'platforms', 'android', 'res', 'xml', 'config.xml');\n}\n\n/**\n * Get path to platform-specific config.xml file.\n *\n * @param {String} platform - for what platform we need config.xml\n * @return {String} absolute path to config.xml\n */\nfunction getPlatformSpecificConfigXml(platform) {\n  var configFilePath = null;\n  switch (platform) {\n    case 'ios':\n      {\n        configFilePath = pathToIosConfigXml();\n        break;\n      }\n    case 'android':\n      {\n        configFilePath = pathToAndroidConfigXml();\n        break;\n      }\n  }\n\n  return configFilePath;\n}\n\n/**\n * Write provided options into config.xml file for each platform.\n *\n * @param {Object} options - plugin options\n */\nfunction injectOptions(options) {\n  platforms.forEach(function(platform) {\n    var configXmlFilePath = getPlatformSpecificConfigXml(platform);\n    if (configXmlFilePath == null) {\n      return;\n    }\n\n    // read data from config.xml\n    var configData = xmlHelper.readXmlAsJson(configXmlFilePath);\n    if (configData == null) {\n      console.warn('Configuration file ' + configXmlFilePath + ' not found');\n      return;\n    }\n\n    // inject new options\n    var chcpXmlConfig = {};\n    for (var preferenceName in options) {\n      injectPreference(chcpXmlConfig, preferenceName, options[preferenceName]);\n    }\n\n    // write them back to config.xml\n    configData.widget['chcp'] = [];\n    configData.widget.chcp.push(chcpXmlConfig);\n    xmlHelper.writeJsonAsXml(configData, configXmlFilePath);\n  });\n}\n\n/**\n * Inject preference into xml.\n *\n * @param {Object} xml - current xml preferences for the plugin\n * @param {String} preferenceName - preference name\n * @param {Object} preferenceAttributes - preference attributes\n */\nfunction injectPreference(xml, preferenceName, preferenceAttributes) {\n  xml[preferenceName] = [{\n    '$': preferenceAttributes\n  }];\n}\n\n// endregion\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/node_modules/cordova-hot-code-push-plugin/scripts/lib/iosWKWebViewEngineSupport.js":"/*\nHelper class to work with Swift.\nMainly, it has only two method: to activate and to deactivate swift support in the project.\n*/\n\nvar path = require('path');\nvar fs = require('fs');\nvar strFormat = require('util').format;\nvar COMMENT_KEY = /_comment$/;\nvar WKWEBVIEW_PLUGIN_NAME = 'cordova-plugin-wkwebview-engine';\nvar WKWEBVIEW_MACRO = 'WK_WEBVIEW_ENGINE_IS_USED';\nvar isWkWebViewEngineUsed = 0;\nvar context;\nvar projectRoot;\nvar projectName;\nvar iosPlatformPath;\n\nmodule.exports = {\n  setWKWebViewEngineMacro: setWKWebViewEngineMacro\n};\n\n/**\n * Define preprocessor macro for WKWebViewEngine.\n *\n * @param {Object} cordovaContext - cordova context\n */\nfunction setWKWebViewEngineMacro(cordovaContext) {\n  init(cordovaContext);\n\n  // injecting options in project file\n  var projectFile = loadProjectFile();\n  setMacro(projectFile.xcode);\n  projectFile.write();\n}\n\n// region General private methods\n\n/**\n * Initialize before execution.\n *\n * @param {Object} ctx - cordova context instance\n */\nfunction init(ctx) {\n  context = ctx;\n  projectRoot = ctx.opts.projectRoot;\n  projectName = getProjectName(ctx, projectRoot);\n  iosPlatformPath = path.join(projectRoot, 'platforms', 'ios');\n\n  var wkWebViewPluginPath = path.join(projectRoot, 'plugins', WKWEBVIEW_PLUGIN_NAME);\n  isWkWebViewEngineUsed = isDirectoryExists(wkWebViewPluginPath) ? 1 : 0;\n}\n\nfunction isDirectoryExists(dir) {\n  var exists = false;\n  try {\n    fs.accessSync(dir, fs.F_OK);\n    exists = true;\n  } catch(err) {\n  }\n\n  return exists;\n}\n\n/**\n * Load iOS project file from platform specific folder.\n *\n * @return {Object} projectFile - project file information\n */\nfunction loadProjectFile() {\n  var platform_ios;\n  var projectFile;\n\n  try {\n    // try pre-5.0 cordova structure\n    platform_ios = context.requireCordovaModule('cordova-lib/src/plugman/platforms')['ios'];\n    projectFile = platform_ios.parseProjectFile(iosPlatformPath);\n  } catch (e) {\n    // let's try cordova 5.0 structure\n    platform_ios = context.requireCordovaModule('cordova-lib/src/plugman/platforms/ios');\n    projectFile = platform_ios.parseProjectFile(iosPlatformPath);\n  }\n\n  return projectFile;\n}\n\n/**\n * Get name of the current project.\n *\n * @param {Object} ctx - cordova context instance\n * @param {String} projectRoot - current root of the project\n *\n * @return {String} name of the project\n */\nfunction getProjectName(ctx, projectRoot) {\n  var cordova_util = ctx.requireCordovaModule('cordova-lib/src/cordova/util');\n  var xml = cordova_util.projectConfig(projectRoot);\n  var ConfigParser;\n\n  // If we are running Cordova 5.4 or abova - use parser from cordova-common.\n  // Otherwise - from cordova-lib.\n  try {\n    ConfigParser = ctx.requireCordovaModule('cordova-common/src/ConfigParser/ConfigParser');\n  } catch (e) {\n    ConfigParser = ctx.requireCordovaModule('cordova-lib/src/configparser/ConfigParser')\n  }\n\n  return new ConfigParser(xml).name();\n}\n\n/**\n * Remove comments from the file.\n *\n * @param {Object} obj - file object\n * @return {Object} file object without comments\n */\nfunction nonComments(obj) {\n  var keys = Object.keys(obj);\n  var newObj = {};\n\n  for (var i = 0, len = keys.length; i < len; i++) {\n    if (!COMMENT_KEY.test(keys[i])) {\n      newObj[keys[i]] = obj[keys[i]];\n    }\n  }\n\n  return newObj;\n}\n\n// endregion\n\n// region Macros injection\n\n/**\n * Inject WKWebView macro into project configuration file.\n *\n * @param {Object} xcodeProject - xcode project file instance\n */\nfunction setMacro(xcodeProject) {\n  var configurations = nonComments(xcodeProject.pbxXCBuildConfigurationSection());\n  var config;\n  var buildSettings;\n\n  for (config in configurations) {\n    buildSettings = configurations[config].buildSettings;\n    var preprocessorDefs = buildSettings['GCC_PREPROCESSOR_DEFINITIONS'] ? buildSettings['GCC_PREPROCESSOR_DEFINITIONS'] : [];\n    if (!preprocessorDefs.length && !isWkWebViewEngineUsed) {\n      continue;\n    }\n\n    if (!Array.isArray(preprocessorDefs)) {\n      preprocessorDefs = [preprocessorDefs];\n    }\n\n    var isModified = false;\n    var injectedDefinition = strFormat('\"%s=%d\"', WKWEBVIEW_MACRO, isWkWebViewEngineUsed);\n    preprocessorDefs.forEach(function(item, idx) {\n      if (item.indexOf(WKWEBVIEW_MACRO) !== -1) {\n        preprocessorDefs[idx] = injectedDefinition;\n        isModified = true;\n      }\n    });\n\n    if (!isModified) {\n      preprocessorDefs.push(injectedDefinition);\n    }\n\n    if (preprocessorDefs.length === 1) {\n      buildSettings['GCC_PREPROCESSOR_DEFINITIONS'] = preprocessorDefs[0];\n    } else {\n      buildSettings['GCC_PREPROCESSOR_DEFINITIONS'] = preprocessorDefs;\n    }\n  }\n}\n\n// endregion\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/node_modules/cordova-hot-code-push-plugin/scripts/beforePluginInstallHook.js":"/**\nHook is executed when plugin is added to the project.\nIt will check all necessary module dependencies and install the missing ones locally.\nAlso, it will suggest to user to install CLI client for that plugin.\nIt can be found in https://github.com/nordnet/cordova-hot-code-push-cli\n*/\n\nvar path = require('path');\nvar fs = require('fs');\nvar spawnSync = require('child_process').spawnSync;\nvar pluginNpmDependencies = require('../package.json').dependencies;\nvar INSTALLATION_FLAG_FILE_NAME = '.npmInstalled';\n\n// region CLI specific\n\n/**\n * Check if cordova-hcp utility is installed. If not - suggest user to install it.\n */\nfunction checkCliDependency(ctx) {\n  var result = spawnSync('cordova-hcp', [], { cwd: './plugins/' + ctx.opts.plugin.id });\n  if (!result.error) {\n    return;\n  }\n\n  suggestCliInstallation();\n}\n\n/**\n * Show message, that developer should install CLI client for the plugin, so it would be easier to use.\n */\nfunction suggestCliInstallation() {\n  console.log('---------CHCP-------------');\n  console.log('To make the development process easier for you - we developed a CLI client for our plugin.');\n  console.log('To install it, please, use command:');\n  console.log('npm install -g cordova-hot-code-push-cli');\n  console.log('For more information please visit https://github.com/nordnet/cordova-hot-code-push-cli');\n  console.log('--------------------------');\n}\n\n// endregion\n\n// region mark that we installed npm packages\n/**\n * Check if we already executed this hook.\n *\n * @param {Object} ctx - cordova context\n * @return {Boolean} true if already executed; otherwise - false\n */\nfunction isInstallationAlreadyPerformed(ctx) {\n  var pathToInstallFlag = path.join(ctx.opts.projectRoot, 'plugins', ctx.opts.plugin.id, INSTALLATION_FLAG_FILE_NAME);\n  try {\n    fs.accessSync(pathToInstallFlag, fs.F_OK);\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\n/**\n * Create empty file - indicator, that we tried to install dependency modules after installation.\n * We have to do that, or this hook is gonna be called on any plugin installation.\n */\nfunction createPluginInstalledFlag(ctx) {\n  var pathToInstallFlag = path.join(ctx.opts.projectRoot, 'plugins', ctx.opts.plugin.id, INSTALLATION_FLAG_FILE_NAME);\n\n  fs.closeSync(fs.openSync(pathToInstallFlag, 'w'));\n}\n// endregion\n\nmodule.exports = function(ctx) {\n  if (isInstallationAlreadyPerformed(ctx)) {\n    return;\n  }\n\n  console.log('Installing dependency packages: ');\n  console.log(JSON.stringify(pluginNpmDependencies, null, 2));\n\n  var npm = (process.platform === \"win32\" ? \"npm.cmd\" : \"npm\");\n  var result = spawnSync(npm, ['install', '--production'], { cwd: './plugins/' + ctx.opts.plugin.id });\n  if (result.error) {\n    throw result.error;\n  }\n\n  createPluginInstalledFlag(ctx);\n\n  console.log('Checking cordova-hcp CLI client...');\n\n  checkCliDependency(ctx);\n};\n","/home/travis/build/npmtest/node-npmtest-cordova-hot-code-push-plugin/node_modules/cordova-hot-code-push-plugin/www/chcp.js":"\n\nvar exec = require('cordova/exec'),\n  channel = require('cordova/channel'),\n\n  // Reference name for the plugin\n  PLUGIN_NAME = 'HotCodePush',\n\n  // Plugin methods on the native side that can be called from JavaScript\n  pluginNativeMethod = {\n    INITIALIZE: 'jsInitPlugin',\n    FETCH_UPDATE: 'jsFetchUpdate',\n    INSTALL_UPDATE: 'jsInstallUpdate',\n    CONFIGURE: 'jsConfigure',\n    REQUEST_APP_UPDATE: 'jsRequestAppUpdate',\n    IS_UPDATE_AVAILABLE_FOR_INSTALLATION: 'jsIsUpdateAvailableForInstallation',\n    GET_INFO: 'jsGetVersionInfo'\n  };\n\n// Called when Cordova is ready for work.\n// Here we will send default callback to the native side through which it will send to us different events.\nchannel.onCordovaReady.subscribe(function() {\n  ensureCustomEventExists();\n  exec(nativeCallback, null, PLUGIN_NAME, pluginNativeMethod.INITIALIZE, []);\n});\n\n/**\n * Method is called when native side sends us different events.\n * Those events can be about update download/installation process.\n *\n * @param {String} msg - JSON formatted string with call arguments\n */\nfunction nativeCallback(msg) {\n  // parse call arguments\n  var resultObj = processMessageFromNative(msg);\n  if (resultObj.action == null) {\n    console.log('Action is not provided, skipping');\n    return;\n  }\n\n  broadcastEventFromNative(resultObj);\n}\n\n/**\n * Parse arguments that were sent from the native side.\n * Arguments are a JSON string of type:\n * { action: \"action identifier\", error: {...error data...}, data: {...some additional data..} }\n * Some parameters may not exist, but the resulting object will have them all.\n *\n * @param {String} msg - arguments as JSON string\n * @return {Object} parsed string\n */\nfunction processMessageFromNative(msg) {\n  var errorContent = null,\n    dataContent = null,\n    actionId = null;\n\n  try {\n    var resultObj = JSON.parse(msg);\n    if (resultObj.hasOwnProperty('error')) {\n      errorContent = resultObj.error;\n    }\n    if (resultObj.hasOwnProperty('data')) {\n      dataContent = resultObj.data;\n    }\n    if (resultObj.hasOwnProperty('action')) {\n      actionId = resultObj.action;\n    }\n  } catch (err) {}\n\n  return {\n    action: actionId,\n    error: errorContent,\n    data: dataContent\n  };\n}\n\nfunction callNativeMethod(methodName, options, callback) {\n  var innerCallback = function(msg) {\n    var resultObj = processMessageFromNative(msg);\n    if (callback !== undefined && callback != null) {\n      callback(resultObj.error, resultObj.data);\n    }\n  };\n\n  var sendArgs = [];\n  if (options !== null && options !== undefined) {\n    sendArgs.push(options);\n  }\n\n  exec(innerCallback, null, PLUGIN_NAME, methodName, sendArgs);\n}\n\n// region Update/Install events\n\n/*\n * Polyfill for adding CustomEvent which may not exist on older versions of Android.\n * See https://developer.mozilla.org/fr/docs/Web/API/CustomEvent for more details.\n */\nfunction ensureCustomEventExists() {\n  // Create only if it doesn't exist\n  if (window.CustomEvent) {\n    return;\n  }\n\n  var CustomEvent = function(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  CustomEvent.prototype = window.Event.prototype;\n  window.CustomEvent = CustomEvent;\n}\n\n/**\n * Broadcast event that was received from the native side.\n *\n * @param {Object} arguments, received from the native side\n */\nfunction broadcastEventFromNative(nativeMessage) {\n  var params = {};\n  if (nativeMessage.error != null) {\n    params.error = nativeMessage.error;\n  }\n\n  var chcpEvent = new CustomEvent(nativeMessage.action, {\n    'detail': params\n  });\n  document.dispatchEvent(chcpEvent);\n}\n\n// endregion\n\n/**\n * Public module of the plugin.\n * May be used by developers to send commands to the plugin.\n */\nvar chcp = {\n\n  // Plugin error codes\n  error: {\n    NOTHING_TO_INSTALL: 1,\n    NOTHING_TO_UPDATE: 2,\n\n    FAILED_TO_DOWNLOAD_APPLICATION_CONFIG: -1,\n    APPLICATION_BUILD_VERSION_TOO_LOW: -2,\n    FAILED_TO_DOWNLOAD_CONTENT_MANIFEST: -3,\n    FAILED_TO_DOWNLOAD_UPDATE_FILES: -4,\n    FAILED_TO_MOVE_LOADED_FILES_TO_INSTALLATION_FOLDER: -5,\n    UPDATE_IS_INVALID: -6,\n    FAILED_TO_COPY_FILES_FROM_PREVIOUS_RELEASE: -7,\n    FAILED_TO_COPY_NEW_CONTENT_FILES: -8,\n    LOCAL_VERSION_OF_APPLICATION_CONFIG_NOT_FOUND: -9,\n    LOCAL_VERSION_OF_MANIFEST_NOT_FOUND: -10,\n    LOADED_VERSION_OF_APPLICATION_CONFIG_NOT_FOUND: -11,\n    LOADED_VERSION_OF_MANIFEST_NOT_FOUND: -12,\n    FAILED_TO_INSTALL_ASSETS_ON_EXTERNAL_STORAGE: -13,\n    CANT_INSTALL_WHILE_DOWNLOAD_IN_PROGRESS: -14,\n    CANT_DOWNLOAD_UPDATE_WHILE_INSTALLATION_IN_PROGRESS: -15,\n    INSTALLATION_ALREADY_IN_PROGRESS: -16,\n    DOWNLOAD_ALREADY_IN_PROGRESS: -17,\n    ASSETS_FOLDER_IN_NOT_YET_INSTALLED: -18,\n    NEW_APPLICATION_CONFIG_IS_INVALID: -19\n  },\n\n  // Plugin events\n  event: {\n    BEFORE_ASSETS_INSTALLATION: 'chcp_beforeAssetsInstalledOnExternalStorage',\n    ASSETS_INSTALLATION_FAILED: 'chcp_assetsInstallationError',\n    ASSETS_INSTALLED: 'chcp_assetsInstalledOnExternalStorage',\n\n    NOTHING_TO_UPDATE: 'chcp_nothingToUpdate',\n    UPDATE_LOAD_FAILED: 'chcp_updateLoadFailed',\n    UPDATE_IS_READY_TO_INSTALL: 'chcp_updateIsReadyToInstall',\n\n    BEFORE_UPDATE_INSTALLATION: 'chcp_beforeInstall',\n    UPDATE_INSTALLATION_FAILED: 'chcp_updateInstallFailed',\n    UPDATE_INSTALLED: 'chcp_updateInstalled',\n    NOTHING_TO_INSTALL: 'chcp_nothingToInstall'\n  },\n\n  /**\n   * DEPRECATED! WILL BE REMOVED EVENTUALLY!\n   *\n   * If you want to set config-url - use chcp.fetchUpdate(callback, options).\n   * If you want to set auto-download/auto-install preference - do it in config.xml instead of this method.\n   *\n   * Set plugin options.\n   * Options are send to the native side.\n   * As soon as they are processed - callback is called.\n   *\n   * @param {Object} options - options to set\n   * @param {Callback(error)} callback - callback to call when options are set\n   */\n  configure: function(options, callback) {\n    if (options === undefined || options == null) {\n      return;\n    }\n\n    callNativeMethod(pluginNativeMethod.CONFIGURE, options, callback);\n  },\n\n  /**\n   * Show dialog with the request to update application through the Store (App Store or Google Play).\n   * For that purpose you can use any other cordova library, this is just a small helper method.\n   *\n   * @param {String} message - message to show in the dialog\n   * @param {Callback()} onStoreOpenCallback - called when user redirects to the Store\n   * @param {Callback()} onUserDismissedDialogCallback - called when user declines to go to the Store\n   */\n  requestApplicationUpdate: function(message, onStoreOpenCallback, onUserDismissedDialogCallback) {\n    if (message == undefined || message.length == 0) {\n      return;\n    }\n\n    var onSuccessInnerCallback = function(msg) {\n      if (onStoreOpenCallback) {\n        onStoreOpenCallback();\n      }\n    };\n\n    var onFailureInnerCallback = function(msg) {\n      if (onUserDismissedDialogCallback) {\n        onUserDismissedDialogCallback();\n      }\n    };\n\n    exec(onSuccessInnerCallback, onFailureInnerCallback, PLUGIN_NAME, pluginNativeMethod.REQUEST_APP_UPDATE, [message]);\n  },\n\n  /**\n   * Check if any new content is available on the server and download it.\n   * Usually this is done automatically by the plugin, but can be triggered at any time from the web page.\n   *\n   * @param {Callback(error, data)} callback - called when native side finished update process\n   * @param {Object} options - additional options, such as \"config-url\" and additional http headers.\n   */\n  fetchUpdate: function(callback, options) {\n    callNativeMethod(pluginNativeMethod.FETCH_UPDATE, options, callback);\n  },\n\n  /**\n   * Install update if there is anything to install.\n   *\n   * @param {Callback(error)} callback - called when native side finishes installation process\n   */\n  installUpdate: function(callback) {\n    callNativeMethod(pluginNativeMethod.INSTALL_UPDATE, null, callback);\n  },\n\n  /**\n   * Check if update was loaded and ready to be installed.\n   * If update was loaded and can be installed - \"data\" property of the callback will contain the name of the current version and the name of the new\n   * version.\n   * If not - \"error\" will contain code chcp.error.NOTHING_TO_INSTALL.\n   *\n   * @param {Callback(error, data)} callback - called, when information is retrieved from the native side.\n   */\n  isUpdateAvailableForInstallation: function(callback) {\n    callNativeMethod(pluginNativeMethod.IS_UPDATE_AVAILABLE_FOR_INSTALLATION, null, callback);\n  },\n\n  /**\n   * Get information about the current version like current release version, app build version and so on.\n   * The \"data\" property of the callback will contain all the information.\n   *\n   * @param {Callback(error, data)} callback - called, when information is retrieved from the native side.\n   */\n  getVersionInfo: function(callback) {\n    callNativeMethod(pluginNativeMethod.GET_INFO, null, callback);\n  }\n};\n\nmodule.exports = chcp;\n"}